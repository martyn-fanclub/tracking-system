<th:block th:replace="fragments/head"/>

<body class="app">
<th:block th:replace="fragments/header"/>

<main class="row">
    <div th:each="place : ${places}" class="mt-5 col-md-10 mx-auto col-lg-5">
        <p class="m-3">Станок №<span th:text="${place.name}"></span></p>
        <p class="m-3">Изготовление:
            <span th:if="${place.currentProduction}">
                <span th:if="${place.currentProduction.detail}"
                      th:text="${place.currentProduction.detail.detailType.name}"></span>
                <span th:text="${place.currentProduction.change.user.name}"></span>
            </span>
            <span th:unless="${place.currentProduction}">простой</span>
        </p>
        <form class="p-5 border rounded-3 bg-light">
            <div class="d-flex flex-column justify-content-between align-items-center">
                <button type="button" class="mb-4 btn btn-success">Начать смену</button>
                <button type="button" class="mb-4 btn btn-primary">Взять новый заказ</button>
                <button type="button" class="mb-4 btn btn-warning">Перейти в режим ТО станка</button>
                <button type="button" class="mb-4 btn btn-danger">Сообщить о проблеме</button>
                <button type="button" class="btn btn-info">Уйти на перерыв</button>
            </div>
        </form>
    </div>
</main>
<script>
    let timeDisplays = document.getElementsByClassName("clock");
    document.body.onload = refreshTime;
    function refreshTime() {
        for (let timeDisplay of timeDisplays) {
            timeDisplay.innerHTML = new Date().toLocaleTimeString("ru-RU");
        }
    }
    setInterval(refreshTime, 1000);
</script>
</body>
